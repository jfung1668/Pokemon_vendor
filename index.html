<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Couples Collective Vendor</title>
    <style>
        :root { --pika-yellow: #fbc02d; --snorlax-blue: #0288d1; --bg: #f0f2f5; }
        body { font-family: -apple-system, system-ui, sans-serif; background: var(--bg); margin: 0; display: flex; justify-content: center; padding: 20px; }
        .container { background: white; width: 100%; max-width: 400px; padding: 25px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); text-align: center; }
        #card-img { width: 100%; max-width: 260px; border-radius: 12px; margin: 0 auto 20px; display: none; box-shadow: 0 8px 20px rgba(0,0,0,0.15); }
        h1 { font-size: 1.5rem; margin: 10px 0; color: #1a1a1a; }
        .set-info { color: #666; font-size: 0.9rem; margin-bottom: 20px; }
        .mascot-box { padding: 12px; border-radius: 12px; font-weight: bold; margin-bottom: 20px; font-size: 0.95rem; }
        .price-box { background: #f8f9fa; padding: 20px; border-radius: 15px; border: 1px solid #eee; }
        .price-val { font-size: 2.2rem; font-weight: 800; color: #2e7d32; display: block; }
        .benchmarks { text-align: left; margin-top: 20px; padding: 15px; background: #fafafa; border-radius: 10px; font-size: 0.85rem; color: #444; }
        .benchmarks div { margin-bottom: 6px; display: flex; justify-content: space-between; }
    </style>
</head>
<body>
    <div class="container">
        <img id="card-img" src="" alt="Pokemon Card">
        <h1 id="name">Loading Card...</h1>
        <div id="set-info" class="set-info">Searching database...</div>
        
        <div id="mascot-container"></div>

        <div class="price-box">
            <small style="text-transform:uppercase; letter-spacing:1px; color:#888;">Asking Price</small>
            <span id="price" class="price-val">--</span>
        </div>

        <div id="benchmark-list" class="benchmarks">
            <strong style="display:block; margin-bottom:10px; border-bottom:1px solid #ddd;">Market Comparisons</strong>
        </div>
    </div>

    <script>
        const params = new URLSearchParams(window.location.search);
        const cardId = params.get('id');

        fetch('card_data.json')
            .then(res => res.json())
            .then(data => {
                const card = data.find(c => String(c['Unique Code']) === String(cardId));
                
                if (card) {
                    // 1. Basic Info
                    document.getElementById('name').innerText = card['Product Name'];
                    document.getElementById('set-info').innerText = `#${card['Card Number']} | ${card['Card Condition']} | Grade: ${card['Grade']}`;
                    
                    const andyPrice = parseFloat(card['Suggested Selling Price (Fair Market)']);
                    const ebayPrice = parseFloat(card['eBay Last Sold']) || 0;
                    document.getElementById('price').innerText = `$${andyPrice.toFixed(2)}`;

                    // 2. Mascot Logic
                    const mascot = document.getElementById('mascot-container');
                    if (andyPrice <= ebayPrice) {
                        mascot.innerHTML = `<div class="mascot-box" style="background:#fff9c4; border:2px solid var(--pika-yellow); color:#856404;">âš¡ Pikachu-approved deal! (Below eBay Avg)</div>`;
                    } else {
                        mascot.innerHTML = `<div class="mascot-box" style="background:#e1f5fe; border:2px solid var(--snorlax-blue); color:#01579b;">ðŸ’¤ Snorlax-sized premium. (High Grade/Rarity)</div>`;
                    }

                    // 3. Benchmarks
                    const bList = document.getElementById('benchmark-list');
                    bList.innerHTML += `
                        <div><span>eBay Last Sold:</span> <strong>$${ebayPrice.toFixed(2)}</strong></div>
                        <div><span>Collectr Value:</span> <strong>$${parseFloat(card['Collectr Value']).toFixed(2)}</strong></div>
                        <div><span>Price Charting:</span> <strong>$${parseFloat(card['Price Charting Market Price']).toFixed(2)}</strong></div>
